<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
    <style>
        body { padding: 20px; max-width: 800px; margin: 0 auto; }
        .summary-box { 
            border: 1px solid #000; 
            padding: 20px; 
            margin-bottom: 20px; 
            text-align: center; 
            border-radius: 8px;
        }
        .summary-box h3 { margin-top: 0; border-bottom: 2px solid #ccc; padding-bottom: 10px; }
        .count-item { 
            flex-grow: 1; 
            padding: 15px; 
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .count { 
            font-size: 2.5em; 
            font-weight: bold; 
            margin: 5px 0 0; 
            display: block; 
        }
        /* student_management.htmlのスタイルを流用 */
        .present-count { color: #155724; background-color: #d4edda; } /* 出席 */
        .absent-count { color: #721c24; background-color: #f8d7da; } /* 欠席 */
        .late-count { color: #856404; background-color: #fff3cd; } /* 遅刻/欠席(遅刻判定) */
        .flex-container { display: flex; justify-content: space-around; gap: 20px; margin-top: 20px;}
        .small-note { font-size: 0.8em; color: #6c757d; margin-top: 5px; display: block; }
    </style>
</head>
<body>
    <h1>{{ title }}</h1>
    <p><a href="/">ホームに戻る</a></p>
    <p>
        <a href="{{ url_for('student_management_page') }}">学生別出席状況選択に戻る</a>
    </p>


    <div class="summary-box">
        <h3>{{ student_name }}さん (学籍番号: {{ student_no }}) の {{ term_name }}期 集計結果</h3>
        
        <div class="flex-container">
            <div class="count-item present-count">
                <p>総 **出席** 数</p>
                <span class="count">{{ summary.present_count }}</span>
                <span class="small-note">（出席状況='出席'の記録）</span>
            </div>
            
            <div class="count-item absent-count">
                <p>総 **欠席** 数</p>
                <span class="count">{{ summary.absent_count }}</span>
                <span class="small-note">（入退室状況='欠席'の記録）</span>
            </div>
            
            <div class="count-item late-count">
                <p>総 **遅刻/保留** 数</p>
                <span class="count">{{ summary.late_count }}</span>
                <span class="small-note">（入室記録のある欠席判定）</span>
            </div>
        </div>
        
        <p style="margin-top: 30px; font-style: italic;">
            ※ 表示される授業記録は、**指定された期の時間割**に紐づく全ての授業の合算値です。
        </p>
    </div>

</body>
</html>